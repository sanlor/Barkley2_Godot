[gd_resource type="Resource" script_class="B2_Script_Legacy" load_steps=2 format=3 uid="uid://b5bqn7vgrelsm"]

[ext_resource type="Script" uid="uid://brqjwvhoi8eux" path="res://barkley2/resources/B2_Cinema/B2_Script_Legacy.gd" id="1_adpqj"]

[resource]
script = ExtResource("1_adpqj")
original_script = "IF body == governor | GOTO | GOVERNOR
IF comServ == 6 | GOTO | STATE6
IF comServ == 5 | GOTO | STATE5
IF comServ == 4 | GOTO | STATE4
IF comServ == 3 | GOTO | STATE3
IF comServ == 2 | GOTO | STATE2
IF comServ == 1 | GOTO | STATE1
GOTO | STATE0

GOVERNOR
DIALOG | Cornrow | Well if it ain't the new governor! Pleased to meet you, sir! I'm Cornrow, this is my associate Juicebox, and as you can see we're just uh, volunteering. Keeping kids off the streets, teachin' 'em to read, the whole nine yards.
DIALOG | Governor Elagabalus | Hello! It is truly me, the Governor. I am pleased to announce that /'reading is fundamental/'! Please treasure this adage. Thank you.

STATE0
DIALOG | Cornrow | You know where you are, kid? These ain't the 'burbs, this is the real deal. You're walkin' the streets of Tir na nOg.
DIALOG | P_NAME | Oh... I'm kinda new here.
DIALOG | Cornrow | Ha! You're tellin' me, kid!!
DIALOG | Juicebox | You're tellin' him.
DIALOG | Cornrow | Lemme tell ya', the alleys of Tir na nOg aren't a good place for kids like you to wander around alone. You never know what kinda creeps are out here. Duergars, Bainshees, all kindsa goons lookin' to rob ya blind. Ha! I bet you don't even got a dime on ya!
DIALOG | P_NAME | Well, Mr. Wilmer only gave me l_i_t_t_l_e_m_o_n_e_y_.
DIALOG | Cornrow | Now THAT is a shame, kid. That's a DAMN shame. Ya know, you're lucky you ran into me and my, uh, nephew Juicebox. See, me and Juicebox, we're like the guardian angels of Tir na nOg - we're the good guys, y'know? Nothin' makes us feel better than seein' a new guy like you land on his feet out here. Now me and Juicebox, we got a proposition for ya -
DIALOG | Juicebox | A /;proposition/'.
DIALOG | Cornrow | That's right, a proposition. What do you say me and Juicebox show you the ropes around here, fill you in on what's what on the streets and make a little scratch in the process, eh? You don't gotta do nothin' but run a few errands for us and it'll only take a moment of your time. How's that sound, kid?
DIALOG | P_NAME | Well...
GOTO | HELP

HELP
CHOICE | Help out Mr. Cornrow?
REPLY | YES | Okay, that sounds good to me!
REPLY | NO | No, thank you.

YES
DIALOG | P_NAME | Wow! You'd do that for me?
DIALOG | Cornrow | See, Juicebox? What'd I tell ya'? I said 'that looks like a real bright kid over there!' And whattaya know? I was right!
DIALOG | Juicebox | You were right, Cornrow.
DIALOG | Cornrow | Now listen up, kid. This is real simple. Me and Juicebox were gonna distribute a buncha fruits to malnourished children but I left my fruit basket at my granny's house. Alls ya gotta do is head over to granny's house and pick up the big ol' basket of fruit, real big, like one of them, uh, whattaya call em - cornucopias? - and bring it back. That's it.
DIALOG | Juicebox | That's it.
DIALOG | Cornrow | I'd do it myself but I'm uh, busy teaching impoverished children how to read.
DIALOG | Juicebox | Uncle Cornrow's teachin' me how to do letters.
DIALOG | P_NAME | This doesn't sound too hard. Where does granny live?
DIALOG | Cornrow | Look at that - look at that foresight, Juicebox. This kid's a real go-getter. She lives up in the market district near the sewer entrance, a little blue shack near Morty's Candy Shop. Real easy to find.
IF @Fruit Basket@ >= 1 | GOTO | YES_GOT
DIALOG | P_NAME  = s_port_hoopzHappy | Okay, Mr. Cornrow. I'll go get the fruit. Good luck with the reading lessons, Mr. Juicebox!
DIALOG | Juicebox | Uh... thanks kid.
IF kelpsterFruit == 1 | DIALOG | P_NAME = s_port_hoopzSurprise | (Wait... Didn't I already give those fruits to Kelpster for that vidcon?! Aw shucks. I've really done it this time!)
QUEST  | comServ = 2

YES_GOT
DIALOG | P_NAME | Oh wait, are you talking about this Fruit Basket?
GOTO | REWARD_FRUIT

NO
IF comServ == 1 | GOTO | NO1
DIALOG | P_NAME | Um, well I appreciate the offer Mr. Cornrow, but I'm a little busy right now.
DIALOG | Cornrow | Awww, what a shame. Alls I wanted you to do was get the basket of fruit I was going to distribute to starving kids. Ahh well. Looks like those kids are going hungry tonight, Juicebox. What a shame.
DIALOG | Juicebox | Shame.
DIALOG | Cornrow | Well lemme know if you ever change your mind, kid. It's easy to get lost out here in the streets of Tir na nOg. Or worse.
QUEST | comServ = 1

NO1
DIALOG | P_NAME | No thanks, Mr. Cornrow. I mean, I appreciate it and everything but I've got a lot of stuff going on right now.
DIALOG | Cornrow | You're breakin' my heart, kid.
DIALOG | Juicebox | You're breakin' his heart.
DIALOG | Cornrow | ...but if you gotta lot on your plate, you gotta lot on your plate. Just don't forget how dangerous it gets out here. Cuchulainn, Duergars, Bainshees, rebels... and worse.

STATE1
DIALOG | Cornrow | Well would you look at that, Juicebox. The kid's back. What'd I tell ya? I told you he'd come around sooner or later.
DIALOG | Juicebox | That's what you said, Cornrow.
DIALOG | Cornrow | Well what can I do for ya, kid? Have you thought about that proposition I gave you earlier? Me and Juicebox show you the ropes, teach you a few things about Tir na nOg and get you a little pocket change in return for running a few errands for us. It'll only take a moment of your time. That's reasonable, right?
GOTO | HELP

STATE2
IF @Fruit Basket@ >= 1 | GOTO | REWARD_FRUIT
IF kelpsterFruit == 1 | GOTO | KELPSTERED
DIALOG | Cornrow | Well look who's back, Juicebox. It's our boy wonder, P_NAME_S. What's going on, kid?
DIALOG | P_NAME | I forgot where your granny lives. Can I get directions again?
DIALOG | Cornrow | You bet, kid. Granny lives in the poor quarters, the northeast part of Tir na nOg just before the sewers. I got a feeling the Duergars have already tossed the place so look for some tape over the door.
DIALOG | P_NAME | Okay, I'll be right back Mr. Cornrow.

STATE3
DIALOG | P_NAME   | Hi Mr. Cornrow, hi Mr. Juicebox. I've got your fruit.
GOTO | REWARD_FRUIT

KELPSTERED
DIALOG | Cornrow | Well look who's back, Juicebox. It's our boy wonder, P_NAME_S. What's going on, kid? Did you get those fruits yet?
DIALOG | P_NAME | No, uh, I haven't gotten around to that yet.
DIALOG | Cornrow | Hey no worries, champ. There's still time. Me and Juicebox can wait a little longer to get those- Uh, I mean, we can wait to help out all the starving kids. I mean we CAN'T wait. Can't wait, yeah. That's what I meant to say.
DIALOG | P_NAME | I'll try to hurry then. Uh, actually you should have a backup plan in case the fruits get lost or something. Not that I think that they would but it's good to have a plan B.
DIALOG | Cornrow | Oh yeah, definitely. Good thinking, kid. But let's stick to plan A for now, okay?
DIALOG | P_NAME | Y-yeah, sure. (Gulp! I gave Kelpster the fruits instead!)

REWARD_FRUIT
QUEST  | fruitbasketTake = 2 // Kelpster Marquee cancel
BREAKOUT | add | money
DIALOG | Cornrow  | P_NAME_S, my man! Look at that basket of fruit you got there! Ooooooh baby, look at those strawberries, Juicebox. We're eatin' good tonight. Good job, kid. Here's a little change for yer pocket.
QUEST | money += @money_cornrowCornucopia@
ITEM | Fruit Basket | -1
NOTIFY | Cornrow took the Cornucopia (and rambutans)
DIALOG | P_NAME   | Wow, thanks Mr. Cornrow!
DIALOG | Cornrow  | Now let's see...
WAIT | 0.5
BREAKOUT | clear
DIALOG | Cornrow | What the-... There's no map here! Fuckin' Viv is screwin' us again Juicebox!
DIALOG | Juicebox | Sounds like Uncle Cornrow's angry.
DIALOG | Cornrow  | Kid, there wasn't a map in here was there?
CHOICE | Come clean to Cornrow?
REPLY | ADMIT | Oh yeah, I found this map.
REPLY | DONTADMIT | Map? No map? I haven't seen any map.

ADMIT
DIALOG | P_NAME | Oh you mean this map?
WAIT | 0.3
DIALOG | Cornrow | Oh so you had it the whole time, kid? You holdin' out on me and Juicebox.
PLAYSET | o_cts_hoopz | surpriseSW | surpriseHoldSW
DIALOG | P_NAME = s_port_hoopzSurprise | Yipe! That's not what I was trying to do, they just uh, fell out from behind the rambutans! I was gonna give it to you, I promise.
MOVETO | o_cts_hoopz | o_cinema10 | MOVE_NORMAL
WAIT   | 0
LOOKAT | o_cts_hoopz | o_cornrow01
WAIT   | 0.25
USEAT  | o_cornrow01
WAIT   | 0.25
DIALOG | Cornrow | Whoah whoah whoah, who said I wanted to touch it, kid? You got your prints on it, it's your problem now.
DIALOG | P_NAME | Oh... so I should keep it?
DIALOG | Cornrow | Look man, I don't know, I didn't not see them, didn't not know they were behind the rambutans, I don't not know anything about that map and wherever it leads. Just for your sake, I'd keep that thing out of Duergar eyes.
DIALOG | P_NAME | Oh... okay so a secret you say?
GOTO | NEXTJOB

DONTADMIT
DIALOG | P_NAME | Uh, no I don't know anything about any map. You said get the fruit and I got the fruit.
DIALOG | Cornrow | No map, you say? What do you think Juicebox? He tellin' the truth?
DIALOG | Juicebox | Hmmm...
DIALOG | P_NAME = s_port_hoopzSurprise | (Gulp)
WAIT | 0.5
DIALOG | Juicebox | No way to know for sure...
DIALOG | Cornrow | Yeah, I hate helping out the Community with people we can't trust.
DIALOG | P_NAME | You can trust me! How about give me one more job and I can show you I'm trustworthy?
QUEST | behaveFib += 1
GOTO | NEXTJOB

NEXTJOB
DIALOG | Cornrow  | You're catchin' on, kid. Now hey, I got somethin' else for ya to do. This one's a little tricky. My nephew Juicebox, he's a good kid but he just don't get math.
DIALOG | Juicebox | I just don't get math.
DIALOG | Cornrow  | I gave him some money to get candy at Morty's candy shop. Well Juicebox cognates ol' Morty a tenner for a dime candy and gets one neuro-shekel back. Poor Juicebox, he didn't know he got the wrong change.
DIALOG | Juicebox | Numbers mystify me.
DIALOG | Cornrow  | So I need you to go to Mortimer's candy shop and get that change back. Think you can do that?
DIALOG | P_NAME = s_port_hoopzHappy | Sure!
DIALOG | Cornrow  | Now that's what I'm talkin' about. Okay, now I'm gonna give you my gun - just show it to Morty to let him know you're there representin' me. Otherwise he'll think you're just horsin' around. His shop is next to granny's place, you must've seen it when you were there earlier. I'd do it myself but I've gotta teach Juicebox his numbers.
NOTIFY | Got Cornrow's Gun.
EVENT  | o_cornrow01 | 3
DIALOG | P_NAME = s_port_hoopzHappy  | Alright, Mr. Cornrow! I'll be back in no time!
DIALOG | Cornrow | Oh yeah and kid, if Mortimer has anything else for you, just take that too.
DIALOG | P_NAME | Okay, Mr. Cornrow.
QUEST | comServ = 4

STATE4
DIALOG | P_NAME | Hey Mr. Cornrow, can you tell me how to get to the candy shop again?
DIALOG | Cornrow | You got it, kid. It's up in the poor quarters, northeast Tir na nOg - it's the big shop building on the left side, right next to granny's place. You can't miss it!
DIALOG | P_NAME | Thanks, Mr. Cornrow. I'll be right back!

STATE5
QUEST | calc = @money_mortimerRobbery@
QUEST | calc -= @money_mortimerRobberyCut@
IF money >= @calc@ | GOTO | MONEY_HAVE
GOTO | MONEY_DONT

MONEY_HAVE
DIALOG | Cornrow | Look who it is, Juicebox. It's our new best buddy P_NAME_S. Did you get that recipe from ol' Morty?
DIALOG | P_NAME = s_port_hoopzSurprise | Hey, how did you know he was also gonna give me a recipe?
DIALOG | Cornrow | Heh, call it a hunch kid. Choco-mallows am I right? Hand it over!
DIALOG | P_NAME | Oh uh, sure.
USEAT | o_cornrow01
Candy | recipe delete | Choco-mallows
NOTIFY | Gave Cornrow the Choco-mallow Recipe
DIALOG | Cornrow | Ha! We got it Juicey my boy! We finally got it!
IF mortimerShopped == 1 | DIALOG | P_NAME | You know, I saw the price of this recipe and it wasn't cheap!
IF mortimerShopped == 0 | DIALOG | P_NAME | I don't really know what all the fuss is about those Choco-mallows!
DIALOG | Cornrow | Yeah yeah, kid whatever... Juicey we got a leg up on Mr. Z now!
QUEST | knowMrZ += 1
DIALOG | P_NAME | Mr. Z?
DIALOG | Cornrow | Look forget about Mr. Z, kid. You don't want to get mixed up in that scene.
DIALOG | P_NAME | Wow, okay Mr. Cornrow...
WAIT | 0.5
DIALOG | P_NAME | Oh! I almost forgot, Morty said he owed you even more than what you said - he gave me @money_mortimerRobbery@ whole neuro-shekels!
BREAKOUT | add | money
DIALOG | Cornrow | Whoooo boy! Give it here, kid!
QUEST | money -= @calc@
DIALOG | Cornrow | Keep the rest for yourself.
BREAKOUT | clear
DIALOG | P_NAME  | Wow, thanks Mr. Cornrow!
DIALOG | Cornrow | Hey, no problem kid. I'm always happy to do favors for people in need. Right Juicebox?
DIALOG | Juicebox | Yep.
DIALOG | Cornrow | Now lemme tell ya something, kid - people talk about all those other cities out there. `kw`Brain City`rt` and `kw`The Social.`rt` Forget 'em. They're not real. Do you really think people can get away from Cuchulainn on his own ziggurat? Ain't nothin' outside Tir na nOg. No way. And the Cyberdwarf? Yeah, people talk about him like he's the leader of L.O.N.G.I.N.U.S. or whatever, but I say he's a fairy tale. Ain't no Cyberdwarf and ain't nobody fighting our fights for us.
DIALOG | P_NAME = s_port_hoopzSurprise | N-no `mq`Cyberdwarf...?`rt`
DIALOG | Cornrow | Never was, never will be. But forget about it, kid. I got one last thing for you to do. Think you're up for it?
DIALOG | P_NAME  | I-I guess...
DIALOG | Cornrow | Yeah, that's the stuff kid. Remember granny? She's a sweetheart but she's gettin' a bit old, startin' to forget things. You know how the elderly can be. Well this mornin' she up and left her house without takin' her vitamins! Can you believe it? She's gettin' on in her years and she needs those vitamins. I've just got her best interests at heart, y'know? So I want you to take this syringe and inject her with vitamins. Think you can handle that?
DIALOG | P_NAME  | Uh sure, Mr. Cornrow. That's really thoughtful of you.
DIALOG | Cornrow | I take care of my kin, kid.
DIALOG | Juicebox | He takes care of his kin.
DIALOG | Cornrow | Now here's the thing - just make sure granny doesn't see you do it. Do it from behind or somethin'. She's an ornery ol' coot and she doesn't like to take her medicine, even if it's what's best for her. At this point, it's really up to us to take care of her, y'know?
DIALOG | P_NAME  | I understand, Mr. Cornrow. I'll make sure granny gets her medicine. Do you know where she is?
DIALOG | Cornrow | She's at Giuseppe's place. He's in that warehouse with the weird sign on the door. You know, the one in the main shopping district.
IF vivianState >= 1 | DIALOG | P_NAME | Oh yeah I know granny, Vivian right?
IF vivianState >= 1 | DIALOG | Cornrow | You got it kid, Vivian herself. That's my granny.
IF vivianState == 0 | DIALOG | P_NAME  | Alright. I'll go look for her.
DIALOG | Cornrow | I like your spirit, kid. You're goin' places.
USEAT | o_cornrow01
NOTIFY | Got Granny's Medicine
ITEM | Granny's Medicine | 1
QUEST | comServ = 6
ClockTime | event | comServ | 7 | 30
GOTO | END

MONEY_DONT
IF cornrowSquandered == 1 | GOTO | MONEY_DONT2
QUEST  | cornrowSquandered = 1
DIALOG | Cornrow | Well, well, well, Juicebox! Look who it is, our new friend P_NAME_S. What's happenin', friend? You got our money from ol' Morty?
DIALOG | P_NAME  | Um, sort of. See, he gave me the money but I kind of accidentally spent some of it. Maybe most of it. B-but I'll get it back, I promise! I didn't mean to, I swear!
DIALOG | Cornrow | Well that's not good, P_NAME_S. Not good at all.
DIALOG | Juicebox | Not good at all.
DIALOG | Cornrow | But I'm glad you've taken it upon yourself to pay back what you've thoughtlessly squandered. It's important you get it back to us soon, P_NAME_S, 'cuz we were gonna start a fund to teach impoverished children to read their letters with it.
DIALOG | P_NAME  | Y-yes, Mr. Cornrow, sir! I'll be back real soon! I promise!
DIALOG | Cornrow | Now that's real good of you, P_NAME_S.
DIALOG | Juicebox | Real good of you.

MONEY_DONT2
DIALOG | Cornrow | I'm glad you've taken it upon yourself to pay back what you've thoughtlessly squandered.
DIALOG | P_NAME | Y-yes, Mr. Cornrow, sir! I'll be back real soon! I promise!

STATE6
DIALOG | P_NAME | Hey um, Mr. Cornrow? Can you tell me how to find your granny again?
DIALOG | Cornrow | Heh heh, you bet, kid. She's normally at church with that numnutz Giuseppe. And make sure she doesn't know you've got her medicine, otherwise she'll get all fussy.
DIALOG | P_NAME | Yeah, I understand. I'll be right back!

END
EXIT |"
