[gd_scene load_steps=10 format=3 uid="uid://cwdi6jf704dmj"]

[ext_resource type="Texture2D" uid="uid://pcehy4p1vsh2" path="res://barkley2/assets/b2_original/images/merged/s_seedBarrel01.png" id="1_syqd7"]
[ext_resource type="Script" uid="uid://k0qa63mgd681" path="res://barkley2/scenes/Objects/_interactiveActor/_sewers/_elemental/o_seed_barrel_01.gd" id="2_xtpt1"]
[ext_resource type="Script" uid="uid://brqjwvhoi8eux" path="res://barkley2/resources/B2_Cinema/B2_Script_Legacy.gd" id="3_p6gjp"]

[sub_resource type="AtlasTexture" id="AtlasTexture_p6gjp"]
atlas = ExtResource("1_syqd7")
region = Rect2(0, 0, 16, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_b3q2k"]
atlas = ExtResource("1_syqd7")
region = Rect2(16, 0, 16, 28)

[sub_resource type="SpriteFrames" id="SpriteFrames_mdyxg"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p6gjp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b3q2k")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b3q2k")
}],
"loop": true,
"name": &"empty",
"speed": 5.0
}]

[sub_resource type="Resource" id="Resource_b3q2k"]
script = ExtResource("3_p6gjp")
original_script = "IF growthElementalSeeds == 1 | GOTO | TAKEN_SEEDS
IF growthElementalQuest == 1 | GOTO | GRAB_SEEDS
IF growthElementalSeeds == 0 | GOTO | INSPECT_SEEDS

GRAB_SEEDS
DIALOG | P_NAME | These are the seeds that I'm supposed to throw around the sewers. Guess I'll take 'em.
USEAT  | o_seedBarrel01
SET    | o_seedBarrel01 | empty
NOTIFY | Got 5x Sewer Seeds
ITEM   | Sewer Seed | 5
QUEST  | growthElementalSeeds = 1

INSPECT_SEEDS
DIALOG | P_NAME | A barrel full of seeds of some sort. I wonder if these could be used for something...

TAKEN_SEEDS
DIALOG | P_NAME | I emptied this barrel of all the seeds. There is nothing left."
metadata/_custom_type_script = "uid://brqjwvhoi8eux"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mdyxg"]
size = Vector2(20, 29)

[sub_resource type="CircleShape2D" id="CircleShape2D_t7kef"]
radius = 9.0

[node name="o_seedBarrel01" type="AnimatedSprite2D" node_paths=PackedStringArray("mouse_detection_area")]
sprite_frames = SubResource("SpriteFrames_mdyxg")
animation = &"empty"
centered = false
offset = Vector2(-8, -26)
script = ExtResource("2_xtpt1")
mouse_detection_area = NodePath("Area2D")
cutscene_script = SubResource("Resource_b3q2k")
metadata/default = {
"bbox_bottom": "27",
"bbox_left": "0",
"bbox_right": "15",
"bbox_top": "0",
"height": "28",
"name": "s_seedBarrel01",
"width": "16",
"xorig": "8",
"yorigin": "26"
}

[node name="Area2D" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(0, -12.5)
shape = SubResource("RectangleShape2D_mdyxg")

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(0, -6)
shape = SubResource("CircleShape2D_t7kef")
